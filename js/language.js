/**
 * ============================================
 * ALL TO PDF CONVERTER PRO - LANGUAGE MODULE
 * ============================================
 * Ã‡oklu dil desteÄŸi (i18n)
 * Desteklenen diller: EN, TR, DE, FR
 */

'use strict';

// ==========================================
// TRANSLATIONS
// ==========================================
const Translations = {
    en: {
        // App
        'app.name': 'All to PDF Converter Pro',
        
        // Dashboard
        'dashboard.title': 'All-in-One PDF Tools',
        'dashboard.subtitle': 'Convert, merge, split and edit your PDFs with ease',
        
        // Dropzone
        'dropzone.title': 'Drag & Drop Files Here',
        'dropzone.subtitle': 'or click to browse',
        'dropzone.images': 'Drop images here',
        'dropzone.word': 'Drop Word document here',
        'dropzone.pdf': 'Drop PDF files here',
        'dropzone.editPdf': 'Drop PDF to edit',
        
        // Tools
        'tools.images.title': 'Images to PDF',
        'tools.images.desc': 'Convert JPG, PNG, WEBP to PDF',
        'tools.word.title': 'Word to PDF',
        'tools.word.desc': 'Convert DOCX documents to PDF',
        'tools.merge.title': 'Merge & Split PDF',
        'tools.merge.desc': 'Combine or separate PDF files',
        'tools.camera.title': 'Camera Scan',
        'tools.camera.desc': 'Scan documents with camera',
        'tools.editor.title': 'PDF Editor',
        'tools.editor.desc': 'Draw, sign, stamp and annotate',
        
        // Controls
        'controls.quality': 'Quality:',
        'controls.pageNumbers': 'Add page numbers',
        'controls.pageSize': 'Page Size:',
        'controls.format': 'Output Format:',
        'controls.splitFormat': 'Split Format:',
        'controls.optimize': 'Optimize file size',
        
        // Buttons
        'btn.convert': 'Convert',
        'btn.convertPdf': 'Convert to PDF',
        'btn.process': 'Process',
        'btn.save': 'Save',
        'btn.download': 'Download',
        'btn.cancel': 'Cancel',
        
        // Common
        'common.back': 'Back',
        'common.cancel': 'Cancel',
        'common.confirm': 'Confirm',
        'common.delete': 'Delete',
        'common.loading': 'Loading...',
        
        // Merge/Split
        'merge.mergeMode': 'Merge PDFs',
        'merge.splitMode': 'Split PDF',
        
        // Camera
        'camera.desc': 'Capture documents directly from your camera',
        'camera.capture': 'Capture Photo',
        
        // Progress
        'progress.converting': 'Converting...',
        'progress.processing': 'Processing...',
        'progress.saving': 'Saving...',
        
        // Save Modal
        'save.title': 'Save PDF',
        'save.filename': 'File Name:',
        
        // Upgrade Modal
        'upgrade.title': 'Upgrade Your Plan',
        'upgrade.desc': 'Unlock all features with our premium plans!',
        'upgrade.basic.1': 'Images to PDF',
        'upgrade.basic.2': 'Word to PDF',
        'upgrade.basic.3': 'Merge & Split PDF',
        'upgrade.basic.4': 'Camera Scan',
        'upgrade.pro.1': 'Everything in Basic',
        'upgrade.pro.2': 'PDF Editor',
        'upgrade.pro.3': 'Signature & Stamps',
        'upgrade.pro.4': 'Priority Support',
        'upgrade.selectBasic': 'Select Basic',
        'upgrade.selectPro': 'Select Pro',
        'upgrade.success': 'Plan upgraded successfully!',
        
        // Trial
        'trial.remaining': 'You have {n} free trials remaining',
        'trial.ended': 'Free trial ended. Please upgrade to continue.',
        
        // Errors
        'error.invalidFile': 'Invalid file type',
        'error.fileTooLarge': 'File is too large',
        'error.processingFailed': 'Processing failed. Please try again.',
        'error.noFiles': 'Please select at least one file',
        
        // Success
        'success.converted': 'Conversion completed successfully!',
        'success.merged': 'PDFs merged successfully!',
        'success.split': 'PDF split successfully!',
        'success.saved': 'File saved successfully!',
        
        // Footer
        'footer.rights': 'All rights reserved.'
    },
    
    tr: {
        // App
        'app.name': 'All to PDF Converter Pro',
        
        // Dashboard
        'dashboard.title': 'Hepsi Bir Arada PDF AraÃ§larÄ±',
        'dashboard.subtitle': 'PDF dosyalarÄ±nÄ±zÄ± kolayca dÃ¶nÃ¼ÅŸtÃ¼rÃ¼n, birleÅŸtirin, ayÄ±rÄ±n ve dÃ¼zenleyin',
        
        // Dropzone
        'dropzone.title': 'DosyalarÄ± SÃ¼rÃ¼kle & BÄ±rak',
        'dropzone.subtitle': 'veya tÄ±klayarak seÃ§in',
        'dropzone.images': 'Resimleri buraya bÄ±rakÄ±n',
        'dropzone.word': 'Word belgesini buraya bÄ±rakÄ±n',
        'dropzone.pdf': 'PDF dosyalarÄ±nÄ± buraya bÄ±rakÄ±n',
        'dropzone.editPdf': 'DÃ¼zenlemek iÃ§in PDF bÄ±rakÄ±n',
        
        // Tools
        'tools.images.title': 'Resimden PDF',
        'tools.images.desc': 'JPG, PNG, WEBP dosyalarÄ±nÄ± PDF\'e dÃ¶nÃ¼ÅŸtÃ¼r',
        'tools.word.title': 'Word\'den PDF',
        'tools.word.desc': 'DOCX belgelerini PDF\'e dÃ¶nÃ¼ÅŸtÃ¼r',
        'tools.merge.title': 'PDF BirleÅŸtir & AyÄ±r',
        'tools.merge.desc': 'PDF dosyalarÄ±nÄ± birleÅŸtir veya ayÄ±r',
        'tools.camera.title': 'Kamera Tarama',
        'tools.camera.desc': 'Kamera ile belge tara',
        'tools.editor.title': 'PDF EditÃ¶r',
        'tools.editor.desc': 'Ã‡iz, imzala, damgala ve not ekle',
        
        // Controls
        'controls.quality': 'Kalite:',
        'controls.pageNumbers': 'Sayfa numarasÄ± ekle',
        'controls.pageSize': 'Sayfa Boyutu:',
        'controls.format': 'Ã‡Ä±ktÄ± FormatÄ±:',
        'controls.splitFormat': 'AyÄ±rma FormatÄ±:',
        'controls.optimize': 'Dosya boyutunu optimize et',
        
        // Buttons
        'btn.convert': 'DÃ¶nÃ¼ÅŸtÃ¼r',
        'btn.convertPdf': 'PDF\'e DÃ¶nÃ¼ÅŸtÃ¼r',
        'btn.process': 'Ä°ÅŸle',
        'btn.save': 'Kaydet',
        'btn.download': 'Ä°ndir',
        'btn.cancel': 'Ä°ptal',
        
        // Common
        'common.back': 'Geri',
        'common.cancel': 'Ä°ptal',
        'common.confirm': 'Onayla',
        'common.delete': 'Sil',
        'common.loading': 'YÃ¼kleniyor...',
        
        // Merge/Split
        'merge.mergeMode': 'PDF BirleÅŸtir',
        'merge.splitMode': 'PDF AyÄ±r',
        
        // Camera
        'camera.desc': 'KameranÄ±zla doÄŸrudan belge Ã§ekin',
        'camera.capture': 'FotoÄŸraf Ã‡ek',
        
        // Progress
        'progress.converting': 'DÃ¶nÃ¼ÅŸtÃ¼rÃ¼lÃ¼yor...',
        'progress.processing': 'Ä°ÅŸleniyor...',
        'progress.saving': 'Kaydediliyor...',
        
        // Save Modal
        'save.title': 'PDF Kaydet',
        'save.filename': 'Dosya AdÄ±:',
        
        // Upgrade Modal
        'upgrade.title': 'PlanÄ±nÄ±zÄ± YÃ¼kseltin',
        'upgrade.desc': 'Premium planlarla tÃ¼m Ã¶zelliklerin kilidini aÃ§Ä±n!',
        'upgrade.basic.1': 'Resimden PDF',
        'upgrade.basic.2': 'Word\'den PDF',
        'upgrade.basic.3': 'PDF BirleÅŸtir & AyÄ±r',
        'upgrade.basic.4': 'Kamera Tarama',
        'upgrade.pro.1': 'Basic\'teki her ÅŸey',
        'upgrade.pro.2': 'PDF EditÃ¶r',
        'upgrade.pro.3': 'Ä°mza & Damga',
        'upgrade.pro.4': 'Ã–ncelikli Destek',
        'upgrade.selectBasic': 'Basic SeÃ§',
        'upgrade.selectPro': 'Pro SeÃ§',
        'upgrade.success': 'Plan baÅŸarÄ±yla yÃ¼kseltildi!',
        
        // Trial
        'trial.remaining': '{n} Ã¼cretsiz deneme hakkÄ±nÄ±z kaldÄ±',
        'trial.ended': 'Ãœcretsiz deneme sona erdi. Devam etmek iÃ§in yÃ¼kseltin.',
        
        // Errors
        'error.invalidFile': 'GeÃ§ersiz dosya tÃ¼rÃ¼',
        'error.fileTooLarge': 'Dosya Ã§ok bÃ¼yÃ¼k',
        'error.processingFailed': 'Ä°ÅŸlem baÅŸarÄ±sÄ±z. LÃ¼tfen tekrar deneyin.',
        'error.noFiles': 'LÃ¼tfen en az bir dosya seÃ§in',
        
        // Success
        'success.converted': 'DÃ¶nÃ¼ÅŸtÃ¼rme baÅŸarÄ±yla tamamlandÄ±!',
        'success.merged': 'PDF\'ler baÅŸarÄ±yla birleÅŸtirildi!',
        'success.split': 'PDF baÅŸarÄ±yla ayrÄ±ldÄ±!',
        'success.saved': 'Dosya baÅŸarÄ±yla kaydedildi!',
        
        // Footer
        'footer.rights': 'TÃ¼m haklarÄ± saklÄ±dÄ±r.'
    },
    
    de: {
        // App
        'app.name': 'All to PDF Converter Pro',
        
        // Dashboard
        'dashboard.title': 'All-in-One PDF-Werkzeuge',
        'dashboard.subtitle': 'Konvertieren, zusammenfÃ¼hren, teilen und bearbeiten Sie Ihre PDFs',
        
        // Dropzone
        'dropzone.title': 'Dateien hierher ziehen',
        'dropzone.subtitle': 'oder klicken zum Durchsuchen',
        'dropzone.images': 'Bilder hier ablegen',
        'dropzone.word': 'Word-Dokument hier ablegen',
        'dropzone.pdf': 'PDF-Dateien hier ablegen',
        'dropzone.editPdf': 'PDF zum Bearbeiten ablegen',
        
        // Tools
        'tools.images.title': 'Bilder zu PDF',
        'tools.images.desc': 'JPG, PNG, WEBP in PDF konvertieren',
        'tools.word.title': 'Word zu PDF',
        'tools.word.desc': 'DOCX-Dokumente in PDF konvertieren',
        'tools.merge.title': 'PDF ZusammenfÃ¼hren & Teilen',
        'tools.merge.desc': 'PDF-Dateien kombinieren oder trennen',
        'tools.camera.title': 'Kamera-Scan',
        'tools.camera.desc': 'Dokumente mit Kamera scannen',
        'tools.editor.title': 'PDF-Editor',
        'tools.editor.desc': 'Zeichnen, unterschreiben, stempeln und kommentieren',
        
        // Controls
        'controls.quality': 'QualitÃ¤t:',
        'controls.pageNumbers': 'Seitenzahlen hinzufÃ¼gen',
        'controls.pageSize': 'SeitengrÃ¶ÃŸe:',
        'controls.format': 'Ausgabeformat:',
        'controls.splitFormat': 'Teilungsformat:',
        'controls.optimize': 'DateigrÃ¶ÃŸe optimieren',
        
        // Buttons
        'btn.convert': 'Konvertieren',
        'btn.convertPdf': 'In PDF konvertieren',
        'btn.process': 'Verarbeiten',
        'btn.save': 'Speichern',
        'btn.download': 'Herunterladen',
        'btn.cancel': 'Abbrechen',
        
        // Common
        'common.back': 'ZurÃ¼ck',
        'common.cancel': 'Abbrechen',
        'common.confirm': 'BestÃ¤tigen',
        'common.delete': 'LÃ¶schen',
        'common.loading': 'Laden...',
        
        // Merge/Split
        'merge.mergeMode': 'PDFs zusammenfÃ¼hren',
        'merge.splitMode': 'PDF teilen',
        
        // Camera
        'camera.desc': 'Dokumente direkt mit der Kamera erfassen',
        'camera.capture': 'Foto aufnehmen',
        
        // Progress
        'progress.converting': 'Konvertierung...',
        'progress.processing': 'Verarbeitung...',
        'progress.saving': 'Speichern...',
        
        // Save Modal
        'save.title': 'PDF speichern',
        'save.filename': 'Dateiname:',
        
        // Upgrade Modal
        'upgrade.title': 'Plan upgraden',
        'upgrade.desc': 'Schalten Sie alle Funktionen mit unseren Premium-PlÃ¤nen frei!',
        'upgrade.basic.1': 'Bilder zu PDF',
        'upgrade.basic.2': 'Word zu PDF',
        'upgrade.basic.3': 'PDF ZusammenfÃ¼hren & Teilen',
        'upgrade.basic.4': 'Kamera-Scan',
        'upgrade.pro.1': 'Alles in Basic',
        'upgrade.pro.2': 'PDF-Editor',
        'upgrade.pro.3': 'Unterschrift & Stempel',
        'upgrade.pro.4': 'PrioritÃ¤ts-Support',
        'upgrade.selectBasic': 'Basic wÃ¤hlen',
        'upgrade.selectPro': 'Pro wÃ¤hlen',
        'upgrade.success': 'Plan erfolgreich aktualisiert!',
        
        // Trial
        'trial.remaining': 'Sie haben noch {n} kostenlose Versuche',
        'trial.ended': 'Kostenlose Testversion beendet. Bitte upgraden Sie.',
        
        // Errors
        'error.invalidFile': 'UngÃ¼ltiger Dateityp',
        'error.fileTooLarge': 'Datei ist zu groÃŸ',
        'error.processingFailed': 'Verarbeitung fehlgeschlagen. Bitte erneut versuchen.',
        'error.noFiles': 'Bitte wÃ¤hlen Sie mindestens eine Datei',
        
        // Success
        'success.converted': 'Konvertierung erfolgreich abgeschlossen!',
        'success.merged': 'PDFs erfolgreich zusammengefÃ¼hrt!',
        'success.split': 'PDF erfolgreich geteilt!',
        'success.saved': 'Datei erfolgreich gespeichert!',
        
        // Footer
        'footer.rights': 'Alle Rechte vorbehalten.'
    },
    
    fr: {
        // App
        'app.name': 'All to PDF Converter Pro',
        
        // Dashboard
        'dashboard.title': 'Outils PDF Tout-en-Un',
        'dashboard.subtitle': 'Convertissez, fusionnez, divisez et Ã©ditez vos PDF facilement',
        
        // Dropzone
        'dropzone.title': 'Glissez-dÃ©posez les fichiers ici',
        'dropzone.subtitle': 'ou cliquez pour parcourir',
        'dropzone.images': 'DÃ©posez les images ici',
        'dropzone.word': 'DÃ©posez le document Word ici',
        'dropzone.pdf': 'DÃ©posez les fichiers PDF ici',
        'dropzone.editPdf': 'DÃ©posez le PDF Ã  Ã©diter',
        
        // Tools
        'tools.images.title': 'Images en PDF',
        'tools.images.desc': 'Convertir JPG, PNG, WEBP en PDF',
        'tools.word.title': 'Word en PDF',
        'tools.word.desc': 'Convertir les documents DOCX en PDF',
        'tools.merge.title': 'Fusionner & Diviser PDF',
        'tools.merge.desc': 'Combiner ou sÃ©parer les fichiers PDF',
        'tools.camera.title': 'Scan CamÃ©ra',
        'tools.camera.desc': 'Scanner des documents avec la camÃ©ra',
        'tools.editor.title': 'Ã‰diteur PDF',
        'tools.editor.desc': 'Dessiner, signer, tamponner et annoter',
        
        // Controls
        'controls.quality': 'QualitÃ©:',
        'controls.pageNumbers': 'Ajouter numÃ©ros de page',
        'controls.pageSize': 'Taille de page:',
        'controls.format': 'Format de sortie:',
        'controls.splitFormat': 'Format de division:',
        'controls.optimize': 'Optimiser la taille du fichier',
        
        // Buttons
        'btn.convert': 'Convertir',
        'btn.convertPdf': 'Convertir en PDF',
        'btn.process': 'Traiter',
        'btn.save': 'Enregistrer',
        'btn.download': 'TÃ©lÃ©charger',
        'btn.cancel': 'Annuler',
        
        // Common
        'common.back': 'Retour',
        'common.cancel': 'Annuler',
        'common.confirm': 'Confirmer',
        'common.delete': 'Supprimer',
        'common.loading': 'Chargement...',
        
        // Merge/Split
        'merge.mergeMode': 'Fusionner PDFs',
        'merge.splitMode': 'Diviser PDF',
        
        // Camera
        'camera.desc': 'Capturez des documents directement depuis votre camÃ©ra',
        'camera.capture': 'Prendre une photo',
        
        // Progress
        'progress.converting': 'Conversion...',
        'progress.processing': 'Traitement...',
        'progress.saving': 'Enregistrement...',
        
        // Save Modal
        'save.title': 'Enregistrer PDF',
        'save.filename': 'Nom du fichier:',
        
        // Upgrade Modal
        'upgrade.title': 'AmÃ©liorer votre plan',
        'upgrade.desc': 'DÃ©bloquez toutes les fonctionnalitÃ©s avec nos plans premium!',
        'upgrade.basic.1': 'Images en PDF',
        'upgrade.basic.2': 'Word en PDF',
        'upgrade.basic.3': 'Fusionner & Diviser PDF',
        'upgrade.basic.4': 'Scan CamÃ©ra',
        'upgrade.pro.1': 'Tout dans Basic',
        'upgrade.pro.2': 'Ã‰diteur PDF',
        'upgrade.pro.3': 'Signature & Tampons',
        'upgrade.pro.4': 'Support Prioritaire',
        'upgrade.selectBasic': 'Choisir Basic',
        'upgrade.selectPro': 'Choisir Pro',
        'upgrade.success': 'Plan mis Ã  niveau avec succÃ¨s!',
        
        // Trial
        'trial.remaining': 'Il vous reste {n} essais gratuits',
        'trial.ended': 'Essai gratuit terminÃ©. Veuillez mettre Ã  niveau.',
        
        // Errors
        'error.invalidFile': 'Type de fichier invalide',
        'error.fileTooLarge': 'Fichier trop volumineux',
        'error.processingFailed': 'Ã‰chec du traitement. Veuillez rÃ©essayer.',
        'error.noFiles': 'Veuillez sÃ©lectionner au moins un fichier',
        
        // Success
        'success.converted': 'Conversion terminÃ©e avec succÃ¨s!',
        'success.merged': 'PDFs fusionnÃ©s avec succÃ¨s!',
        'success.split': 'PDF divisÃ© avec succÃ¨s!',
        'success.saved': 'Fichier enregistrÃ© avec succÃ¨s!',
        
        // Footer
        'footer.rights': 'Tous droits rÃ©servÃ©s.'
    }
};

// ==========================================
// LANGUAGE FLAGS
// ==========================================
const LangFlags = {
    en: 'ðŸ‡ºðŸ‡¸',
    tr: 'ðŸ‡¹ðŸ‡·',
    de: 'ðŸ‡©ðŸ‡ª',
    fr: 'ðŸ‡«ðŸ‡·'
};

const LangNames = {
    en: 'EN',
    tr: 'TR',
    de: 'DE',
    fr: 'FR'
};

// ==========================================
// LANGUAGE MODULE
// ==========================================
const Lang = {
    current: 'en',
    
    /**
     * Initialize language system
     */
    init() {
        // Get saved language or browser default
        const saved = localStorage.getItem('language');
        const browserLang = navigator.language.split('-')[0];
        
        // Set language (priority: saved > browser > default)
        if (saved && Translations[saved]) {
            this.current = saved;
        } else if (Translations[browserLang]) {
            this.current = browserLang;
        }
        
        this.apply();
        this.updateUI();
    },
    
    /**
     * Get translation by key
     */
    get(key) {
        return Translations[this.current]?.[key] || Translations['en'][key] || key;
    },
    
    /**
     * Set language
     */
    set(lang) {
        if (Translations[lang]) {
            this.current = lang;
            localStorage.setItem('language', lang);
            this.apply();
            this.updateUI();
        }
    },
    
    /**
     * Apply translations to all elements
     */
    apply() {
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.dataset.i18n;
            const translation = this.get(key);
            
            if (el.tagName === 'INPUT' && el.type === 'text') {
                el.placeholder = translation;
            } else {
                el.textContent = translation;
            }
        });
        
        // Update HTML lang attribute
        document.documentElement.lang = this.current;
    },
    
    /**
     * Update language selector UI
     */
    updateUI() {
        const currentLangEl = document.getElementById('currentLang');
        if (currentLangEl) {
            currentLangEl.textContent = `${LangFlags[this.current]} ${LangNames[this.current]}`;
        }
        
        // Update active state in dropdown
        document.querySelectorAll('.lang-option').forEach(option => {
            option.classList.toggle('active', option.dataset.lang === this.current);
        });
    }
};

// ==========================================
// EXPORT
// ==========================================
window.Lang = Lang;
window.Translations = Translations;